{% extends 'base.html' %}

{% block title %}Rewards List{% endblock %}

{% block content %}
<div class="container mt-4">
  <h1 class="mb-4">Rewards List</h1>
  <a href="{% url 'reward-create' %}" class="btn btn-primary mb-3">Create Reward</a>
  <table class="table">
    <thead>
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Value</th>
        <th>Quantity</th>
        <th>Created By</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for reward in rewards %}
      <tr>
        <td>{{ reward.reward_id }}</td>
        <td>{{ reward.name }}</td>
        <td>{{ reward.value }}</td>
        <td>{{ reward.quantity }}</td>
        <td>{{ reward.user.firstname }} {{ reward.user.lastname }}</td>
        <td>
          <div class="btn-group" role="group">
            <a href="{% url 'reward-edit' reward.reward_id %}" class="btn btn-warning btn-sm">Edit</a>
            <form action="{% url 'reward-delete' reward.reward_id %}" method="post" class="d-inline">
              {% csrf_token %}
              <button type="submit" class="btn btn-danger btn-sm" onclick="return confirm('Are you sure?')">
                Delete
              </button>
            </form>
          </div>
        </td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="6" class="text-center">No rewards available.</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}